# Minecraft 自动钓鱼脚本 (Python 字幕识别版)

这是一个使用 Python 编写的外部脚本，通过识别屏幕右下角的 Minecraft 字幕来实现自动钓鱼。

## 前置要求

1.  **Python 3.x**: 确保已安装 Python。
2.  **Tesseract OCR**: 这是一个开源的 OCR 引擎，必须安装它才能识别文字。
    *   下载地址: [https://github.com/UB-Mannheim/tesseract/wiki](https://github.com/UB-Mannheim/tesseract/wiki)
    *   安装时，建议勾选 "Additional language data" 中的 **Chinese (Simplified)** 以支持中文识别。
    *   **重要**: 安装完成后，请记下安装路径（例如 `C:\Program Files\Tesseract-OCR\tesseract.exe`），你需要将其填入 `autofish.py` 脚本中。

## 安装依赖库

在当前目录下打开终端，运行：

```bash
pip install -r requirements.txt
```

**注意**: 本脚本新增了后台运行功能，依赖 `pywin32` 库。

## 配置脚本

打开 `autofish.py` 文件，或者直接运行脚本在界面中配置。

1.  **Tesseract 路径**: 在界面中选择 `tesseract.exe` 的位置。
2.  **识别区域**: 点击“选取屏幕区域”来框选字幕位置。

## 功能说明

### 1. 屏幕截图模式 (默认)
*   适用于游戏窗口在前台的情况。
*   直接截取屏幕上的指定区域进行识别。
*   使用鼠标模拟点击（会占用鼠标）。

### 2. 后台窗口模式 (新功能)
*   **适用场景**: 你想在钓鱼挂机时同时做别的事情（看视频、浏览网页），或者游戏窗口被遮挡。
*   **使用方法**:
    1.  点击 **“选择窗口”**，在列表中找到 Minecraft 窗口并确认。
    2.  勾选 **“启用后台模式”**。
    3.  点击 **“选取识别区域”**（此时需要确保游戏窗口可见，以便你框选字幕位置）。脚本会自动计算该区域相对于窗口左上角的坐标。
    4.  点击 **“开始运行”**。
   **备注**(使用F3+P可以让游戏在后台运行而不暂停)
*   **效果**:
    *   脚本会直接从游戏窗口的内存中截取图像，即使窗口被其他窗口遮挡也能正常识别。
    *   脚本会向游戏窗口发送后台点击指令，**不会移动你的鼠标**，也不会抢占焦点。
*   **注意**: 最小化窗口可能会导致截图变黑或停止更新（取决于 Windows 系统机制），建议将窗口保持还原状态但被其他窗口遮挡即可。

## 游戏设置


1.  进入 Minecraft。
2.  打开 **选项 (Options)** -> **音乐和声音 (Music & Sounds)**。
3.  将 **显示字幕 (Show Subtitles)** 设置为 **开启 (ON)**。
4.  确保游戏语言与脚本中的关键词匹配（脚本默认支持中文“鱼漂溅起水花”和英文“Fishing Bobber splashes”）。

## 运行

1.  在终端运行脚本：
    ```bash
    python autofish.py
    ```
2.  脚本启动后有 3 秒倒计时，请迅速切换回 Minecraft 游戏窗口并手持鱼竿。
3.  脚本会自动识别字幕并进行收放杆操作。
4.  按 `Ctrl + C` 在终端中停止脚本。
